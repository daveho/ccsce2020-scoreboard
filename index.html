<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>2020 CCSC Eastern Programming Contest — Scoreboard</title>
    <style>
      body { position: absolute; left: 0; right: 0; top: 0; bottom: 0; }
      #outer { display: flex; flex-flow: column; height: 100%; }
      #topstuff { flex: 0 1 auto; }
      #autorefresh_form { margin: 0; padding: 0; }
      #autorefresh_form input { display: inline; }
      #container { flex: 1 1 auto; }
      #rankings { height: 100%; width: 100%; }
    </style>
  </head>

  <body>
    <div id="outer">
      <div id="topstuff">
        <h1>2020 CCSC Eastern Programming Contest — Scoreboard</h1>

        <form id="autorefresh_form">
          <p>
            Auto-refresh (every 30 seconds):
            <input id="autorefresh_checkbox" name="autorefresh" type="checkbox" checked></input>
          </p>
        </form>
      </div>

      <div id="container">
        <iframe id="rankings" src="full.html"></iframe>
      </div>
    </div>

    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
        var count = 0;
        var pagebase = "full.html";
        var reloadfn = function() {
          var checkbox = document.getElementById("autorefresh_checkbox");
          //console.log("Checked: " + checkbox.checked);
          if (checkbox.checked) {
            var iframe = document.getElementById("rankings");
            //iframe.src = pagebase + "?n=" + (count++); // reload
            iframe.contentWindow.location.reload();
          }
        };
        var nsec = 30; // should be 30
        setInterval(reloadfn, nsec*1000);
      });
   </script>
  </body>
</html>
